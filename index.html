<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>bla</title>
    <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
      border: 0;
      overflow: hidden; /*  Disable scrollbars */
      display: block;  /* No floating content on sides */
    }
    </style>
</head>

<body>
    <canvas id='c' style='position:absolute; left:0px; top:0px; touch-action: manipulation;'>
    </canvas>

    <script>
       var canvas = document.getElementById('c'),
       ctx = canvas.getContext('2d');
			 var borderColor = 'yellow';
       var smallerdim = 1; // is set to the smaller of widht and height during resize event

			  circles = [
			   {
			     x: 0.2,
			     y: 0.85,
			     radius: 0.15,
			     color: 'rgb(0,0,125)',
					 id:0
			   }
         ,
			   {
			     x: 0.8,
			     y: 0.85,
			     radius: 0.15,
			     color: 'rgb(0,255,0)',
					 id:1
			   }
			 ];


			 // Start listening to resize events and draw canvas.
       initialize();



			 function initialize() {
           window.addEventListener('resize', resizeCanvas, false);
           resizeCanvas();

					 canvas.addEventListener('mousedown', (e) => {
						 const pos = {
							 x: e.clientX,
							 y: e.clientY
						 };
						 //alert('clicked on ' + x + '|' + y);
						 //alert('click');
						 circles.forEach(circle => {
							 if (isIntersect(pos, circle))
							 {
								 circleMouseDown(circle.id);
							 }
						 });
					 });

           canvas.addEventListener('mouseup', (e) => {
						 const pos = {
							 x: e.clientX,
							 y: e.clientY
						 };
						 //alert('clicked on ' + x + '|' + y);
						 //alert('click');
						 circles.forEach(circle => {
							 if (isIntersect(pos, circle))
							 {
								 circleMouseUp(circle.id);
							 }
						 });
					 });

        }

				function getRndInteger(min, max) {
				  return Math.floor(Math.random() * (max - min + 1) ) + min;
				}

				function circleMouseDown(id)
				{
					getRndInteger(0,255);
					circles[id].color= "rgb(" + getRndInteger(0,255) + "," +getRndInteger(0,255) + "," +getRndInteger(0,255) + ")";
          circles[id].radius += 0.1;
					redraw();
					//alert('ha');
				}

        function circleMouseUp(id)
        {
          circles[id].radius -= 0.1;
          redraw();
          //alert('ha');
        }

			 function resizeCanvas() {
					 canvas.width = window.innerWidth;
					 canvas.height = window.innerHeight;
           smallerdim = Math.min(window.innerWidth, window.innerHeight);
					 redraw();
			 }

			 function isIntersect(point, circle) {
			   return Math.sqrt((point.x-(circle.x*window.innerWidth)) ** 2 + (point.y - (circle.y*window.innerHeight)) ** 2) < (circle.radius*smallerdim);
			 }

        // Display custom canvas. In this case it's a blue, 5 pixel
        // border that resizes along with the browser window.
        function redraw() {
          //ctx.strokeStyle = borderColor;
					ctx.beginPath();
					ctx.fillStyle = 'black';
          //ctx.lineWidth = '10';
          ctx.rect(0, 0, window.innerWidth, window.innerHeight);
					ctx.fill();



					// draw circles
	  			circles.forEach(circle => {
	 	 			ctx.beginPath();
	 	 		  ctx.arc(circle.x*window.innerWidth, circle.y*window.innerHeight, circle.radius*smallerdim, 0, 2 * Math.PI, false);
	 	 		  ctx.fillStyle = circle.color;
	 	 		  ctx.fill();
	  			});

        }



    </script>
</body>
</html>
