<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>bla</title>
    <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
      border: 0;
      overflow: hidden; /*  Disable scrollbars */
      display: block;  /* No floating content on sides */
    }
    </style>
</head>

<body>
    <canvas id='c' style='position:absolute; left:0px; top:0px; touch-action: manipulation;'>
    </canvas>

    <script>
       var canvas = document.getElementById('c'),
       ctx = canvas.getContext('2d');
			 var borderColor = 'yellow';

			  circles = [
			   {
			     x: 150,
			     y: 150,
			     radius: 90,
			     color: 'rgb(255,0,0)',
					 id:0
			   },
			   {
			     x: 250,
			     y: 500,
			     radius: 180,
			     color: 'rgb(0,255,0)',
					 id:1
			   }
			 ];


			 // Start listening to resize events and draw canvas.
       initialize();

			 function initialize() {
           window.addEventListener('resize', resizeCanvas, false);
           resizeCanvas();

					 canvas.addEventListener('click', (e) => {
						 const pos = {
							 x: e.clientX,
							 y: e.clientY
						 };
						 //alert('clicked on ' + x + '|' + y);
						 //alert('click');
						 circles.forEach(circle => {
							 if (isIntersect(pos, circle))
							 {
								 clickedCircle(circle.id);
							 }
						 });
					 });

					 canvas.addEventListener('touchstart', (e) => {
						 const pos = {
							 x: e.clientX,
							 y: e.clientY
						 };
						 //alert('clicked on ' + x + '|' + y);
						 //alert('click');
						 circles.forEach(circle => {
							 if (isIntersect(pos, circle))
							 {
								 clickedCircle(circle.id);
							 }
						 });
					 });

        }

				function getRndInteger(min, max) {
				  return Math.floor(Math.random() * (max - min + 1) ) + min;
				}

				function clickedCircle(id)
				{
					getRndInteger(0,255);
					circles[id].color= "rgb(" + getRndInteger(0,255) + "," +getRndInteger(0,255) + "," +getRndInteger(0,255) + ")";
					redraw();
					//alert('ha');
				}

			 function resizeCanvas() {
					 canvas.width = window.innerWidth;
					 canvas.height = window.innerHeight;
					 redraw();
			 }

			 function isIntersect(point, circle) {
			   return Math.sqrt((point.x-circle.x) ** 2 + (point.y - circle.y) ** 2) < circle.radius;
			 }

        // Display custom canvas. In this case it's a blue, 5 pixel
        // border that resizes along with the browser window.
        function redraw() {
          ctx.strokeStyle = borderColor;
          ctx.lineWidth = '10';
          ctx.strokeRect(0, 0, window.innerWidth, window.innerHeight);

					// draw circles
	  			circles.forEach(circle => {
	 	 			ctx.beginPath();
	 	 		ctx.arc(circle.x, circle.y, circle.radius, 0, 2 * Math.PI, false);
	 	 		ctx.fillStyle = circle.color;
	 	 		ctx.fill();
	  			});

        }



    </script>
</body>
</html>
